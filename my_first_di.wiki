#summary はじめてのDI

== 挨拶を"依存"にする ==

[my_first_resource はじめてのリソース]では挨拶は"Hello"と英語で固定されていました。DIを使ってさまざまな挨拶に多応するリソースにします。

== ディペンデンシー ==
[my_first_resource 挨拶リソース]では挨拶するための挨拶文字列が必要です。これがこのリソースの依存（dependency)です。

この文字列はどのように取得できるでしょうか？大きく３つの方法があります。

=== 1.内包する (dependency inside) ===
依存をコード内に記述します。[my_first_resource はじめてのリソース]では"Hello"がメソッド内にハードコードされてました。これをクラスのconstにすればもう少しメンテナンス性が良くなるでしょう。しかし依存がコード内に存在してるという意味ではハードコードも`const`も同じです。変更にはクラスを変更する必要があります。

=== 2.取得する (dependency pull) ===
例えばその昔、設定といえばグローバル`define`でした。それがConfigクラスやレジストリを使うようになりました。ですがどちらもクラス外部から依存を取得することには代わりはありません。

テストをするときにはクラスとその依存（設定ファイルやdefine）を変更する必要があります。

=== 2.代入してもらう (dependency injection) ===
自ら挨拶文字列を取得するのではなく、コンストラクションの時に外部から挨拶文字列を代入してもらいます。
